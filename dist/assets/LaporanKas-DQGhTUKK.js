import{r as h,y as N,o as se,b as re,w as le,a as l,e as t,t as o,p as b,z as oe,E as R,f as n,j as D,F as C,v as f,u as w,i as $,q as J,g as m,J as K,C as ne}from"./index-CqU-N3Nx.js";import{a as k}from"./axios-2s9xPmg-.js";import{S as x}from"./sweetalert2.esm.all-B3GDCxSY.js";import{_ as de}from"./AdminLayout-wSIyYV-Y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ie={class:"space-y-2"},ue={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ge={class:"bg-white dark:bg-gray-800 p-5 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm flex items-center justify-between"},ce={class:"text-xl font-bold text-green-600 mt-1"},be={class:"bg-white dark:bg-gray-800 p-5 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm flex items-center justify-between"},pe={class:"text-xl font-bold text-red-600 mt-1"},me={class:"bg-white dark:bg-gray-800 p-5 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm flex items-center justify-between"},he={class:"text-2xl font-bold text-blue-600 mt-1"},xe={class:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl p-5 shadow-sm min-h-[500px] mt-4"},ke={class:"space-y-6"},ye={class:"flex flex-col md:flex-row justify-between items-end md:items-center gap-4"},ve={class:"flex flex-col sm:flex-row gap-3 w-full md:w-auto"},fe={class:"relative w-full sm:w-48"},we={class:"flex gap-2 w-full md:w-auto"},_e=["value"],Se=["value"],Pe={class:"flex flex-col sm:flex-row gap-3 w-full md:w-auto items-stretch"},Ce={class:"flex bg-gray-100 dark:bg-gray-800 p-1 rounded-lg"},je={key:0,class:"flex justify-between items-center bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border border-gray-100 dark:border-gray-700"},Be={class:"text-lg font-bold text-green-600"},Me={class:"text-sm text-gray-500 dark:text-gray-400"},$e={key:1,class:"mb-4 flex items-center justify-between bg-blue-50 p-3 rounded-lg border border-blue-100 dark:bg-blue-900/20 dark:border-blue-800"},Ie={class:"flex items-center gap-3 pl-2"},De={class:"overflow-x-auto"},Ae={class:"w-full text-left border-collapse"},Te={class:"border-b border-gray-100 dark:border-gray-800 text-gray-500 text-xs uppercase bg-gray-50 dark:bg-gray-800/50"},ze={key:0,class:"p-4 w-10"},Ue={key:1,class:"p-4"},Le={key:2,class:"p-4"},Ve={key:3,class:"p-4"},Ne={class:"p-4 text-center"},Re={class:"divide-y divide-gray-100 dark:divide-gray-800"},We={key:0},He=["colspan"],Ee={key:1},Fe=["colspan"],Ge={key:0,class:"p-4"},Je=["value"],Ke={class:"p-4"},Oe={class:"font-medium text-gray-800 dark:text-white"},Ye={class:"text-xs text-gray-500"},qe={class:"p-4 text-sm text-gray-600 dark:text-gray-400"},Qe={class:"p-4 text-sm font-medium dark:text-green-400 text-green-700"},Xe={class:"p-4 text-sm font-medium dark:text-white"},Ze={class:"p-4 text-sm font-medium dark:text-white"},et={class:"p-4 text-right"},tt={key:0,class:"px-2 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700"},at={key:1,class:"text-xs text-red-500"},st={class:"p-4 flex justify-center gap-2"},rt=["onClick"],lt=["onClick"],ot={key:1,class:"flex gap-2"},nt=["onClick"],dt=["onClick"],it={class:"flex justify-between items-center border-t border-gray-200 dark:border-gray-700 pt-4 mt-4"},ut={class:"text-sm text-gray-500"},gt={class:"flex gap-2"},ct=["disabled"],bt=["disabled"],pt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm"},mt={class:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-md shadow-2xl p-6"},ht={class:"text-lg font-bold mb-4 text-gray-800 dark:text-white"},xt={key:0},kt=["value"],yt={key:1,class:"bg-blue-50 text-blue-700 p-3 rounded-lg text-sm border border-blue-100 flex items-center gap-2"},vt={class:"grid grid-cols-2 gap-4"},ft={class:"relative mt-1"},wt=["value"],_t={class:"relative mt-1"},St=["value"],Pt={class:"text-sm text-gray-500"},Ct={class:"flex gap-3 pt-2"},At={__name:"LaporanKas",setup(jt){const g=h("sudah"),A=h(!1),_=h([]),W=h([]),c=h([]),j=h(!1),I=h(""),T=h(0),S=h({pemasukan:0,pengeluaran:0,saldo:0});let z=null;const y=localStorage.getItem("role"),O=localStorage.getItem("username"),u=N({bulan:new Date().getMonth()+1,tahun:new Date().getFullYear()}),i=N({currentPage:1,limit:10,totalData:0,totalPage:1}),B=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],M=h(!1),r=N({id:null,user_id:"",iuran_wajib:1e4,iuran_bebas:0,status:!0,nama_penginput:O}),U=async()=>{try{const s=localStorage.getItem("token"),e=await k.get("https://alentest.my.id/laporan/api/dashboard/stats",{headers:{Authorization:`Bearer ${s}`}});e.data&&e.data.cards&&(S.value.pemasukan=e.data.cards.pemasukan_all_time,S.value.pengeluaran=e.data.cards.pengeluaran_all_time,S.value.saldo=e.data.cards.saldo_akhir)}catch(s){console.error(s)}},Y=async()=>{try{const s=localStorage.getItem("token"),e=await k.get("https://alentest.my.id/laporan/api/auth/users?role=user",{headers:{Authorization:`Bearer ${s}`}});e.data.status==="success"&&(W.value=e.data.data)}catch(s){console.error(s)}},v=async()=>{A.value=!0,c.value=[],j.value=!1;const s=localStorage.getItem("token"),e=g.value==="sudah"?"https://alentest.my.id/laporan/api/kas/masuk/sudah-bayar":"https://alentest.my.id/laporan/api/kas/masuk/belum-bayar";try{const a=await k.get(e,{headers:{Authorization:`Bearer ${s}`},params:{bulan:u.bulan,tahun:u.tahun,page:i.currentPage,limit:i.limit,search:I.value}});_.value=a.data.data||[],a.data.pagination?(i.totalData=a.data.pagination.totalData,i.totalPage=a.data.pagination.totalPage,i.currentPage=a.data.pagination.currentPage):(i.totalData=_.value.length,i.totalPage=1,i.currentPage=1),g.value==="sudah"&&a.data.summary?T.value=a.data.summary.total_masuk:T.value=0}catch{_.value=[]}finally{A.value=!1}},H=()=>{i.currentPage=1,v()},E=s=>{g.value=s,I.value="",i.currentPage=1,v()},q=()=>{z&&clearTimeout(z),z=setTimeout(()=>{i.currentPage=1,v()},500)},F=s=>{s>=1&&s<=i.totalPage&&(i.currentPage=s,v())},Q=()=>{j.value?c.value=_.value.map(s=>s.id):c.value=[]},X=()=>{if(c.value.length===0)return x.fire("Info","Pilih minimal satu warga","info");r.id=null,r.user_id=null,r.iuran_wajib=1e4,r.iuran_bebas=0,M.value=!0},L=(s,e=null)=>{M.value=!0,s==="edit"&&e?(r.id=e.id,r.user_id=e.user_id,r.iuran_wajib=e.iuran_wajib,r.iuran_bebas=e.iuran_bebas):s==="pay"&&e?(r.id=null,r.user_id=e.id,r.iuran_wajib=1e4,r.iuran_bebas=0):(r.id=null,r.user_id="",r.iuran_wajib=1e4,r.iuran_bebas=0)},Z=async()=>{var a,d;const s=localStorage.getItem("token"),e=`${u.tahun}-${String(u.bulan).padStart(2,"0")}-01`;try{if(c.value.length>0&&!r.id){const p={user_ids:c.value,iuran_wajib:r.iuran_wajib,iuran_bebas:r.iuran_bebas,periode:e,nama_penginput:localStorage.getItem("username"),status:!0};await k.post("https://alentest.my.id/laporan/api/kas/masuk/bulk",p,{headers:{Authorization:`Bearer ${s}`}}),x.fire("Sukses","Pembayaran massal berhasil!","success"),c.value=[],j.value=!1}else if(r.id){const p={...r,periode:e,status:!0};await k.put(`https://alentest.my.id/laporan/api/kas/masuk/${r.id}`,p,{headers:{Authorization:`Bearer ${s}`}}),x.fire("Sukses","Data berhasil diperbarui","success")}else{const p={...r,periode:e,status:!0};await k.post("https://alentest.my.id/laporan/api/kas/masuk",p,{headers:{Authorization:`Bearer ${s}`}}),x.fire("Sukses","Pembayaran berhasil dicatat","success")}M.value=!1,v(),U()}catch(p){x.fire("Gagal",((d=(a=p.response)==null?void 0:a.data)==null?void 0:d.message)||"Terjadi kesalahan","error")}},ee=async s=>{if((await x.fire({title:"Yakin hapus data ini?",text:"Data tidak dapat dikembalikan",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hapus"})).isConfirmed){const a=localStorage.getItem("token");try{await k.delete(`https://alentest.my.id/laporan/api/kas/masuk/${s}`,{headers:{Authorization:`Bearer ${a}`}}),x.fire("Terhapus","Data berhasil dihapus","success"),v(),U()}catch{x.fire("Gagal","Terjadi kesalahan","error")}}},te=async()=>{try{const s=localStorage.getItem("token"),e=await k.get("https://alentest.my.id/laporan/api/kas/download/excel",{params:{bulan:u.bulan,tahun:u.tahun},headers:{Authorization:`Bearer ${s}`},responseType:"blob"}),a=window.URL.createObjectURL(new Blob([e.data])),d=document.createElement("a");d.href=a,d.setAttribute("download",`Laporan_Keuangan_${u.bulan}-${u.tahun}.xlsx`),document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(a)}catch{x.fire("Gagal","Gagal mengunduh laporan excel","error")}},ae=s=>{if(!s.phone){x.fire("Gagal","Nomor telepon tidak tersedia","error");return}const e=u.bulan-1,a=B[e],d=`Halo Bapak/Ibu ${s.username}, mengingatkan untuk pembayaran iuran kas RT bulan ${a} ${u.tahun}. Terima kasih.`;let p=s.phone.toString().replace(/\D/g,"");p.startsWith("0")&&(p="62"+p.slice(1)),window.open(`https://wa.me/${p}?text=${encodeURIComponent(d)}`,"_blank")},P=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s),V=s=>s?s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"",G=(s,e,a)=>{let d=s.target.value.replace(/\D/g,"");e[a]=d?parseInt(d):0,s.target.value=V(e[a])};return se(()=>{Y(),v(),U()}),(s,e)=>(l(),re(de,null,{default:le(()=>[t("div",ie,[t("div",ue,[t("div",ge,[t("div",null,[e[14]||(e[14]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 uppercase font-semibold"},"Total Pemasukan (Semua)",-1)),t("h3",ce,o(P(S.value.pemasukan)),1)])]),t("div",be,[t("div",null,[e[15]||(e[15]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 uppercase font-semibold"},"Total Pengeluaran (Semua)",-1)),t("h3",pe,o(P(S.value.pengeluaran)),1)])]),t("div",me,[t("div",null,[e[16]||(e[16]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 uppercase font-semibold"},"Saldo Akhir",-1)),t("h3",he,o(P(S.value.saldo)),1)])])]),t("div",xe,[t("div",ke,[t("div",ye,[t("div",ve,[t("div",fe,[e[17]||(e[17]=t("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[t("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>I.value=a),onInput:q,type:"text",placeholder:"Cari Warga...",class:"w-full pl-9 pr-4 py-2 border rounded-lg text-sm focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700 dark:text-white"},null,544),[[oe,I.value]])]),t("div",we,[b(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>u.bulan=a),onChange:H,class:"block w-full md:w-28 px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700 dark:text-white"},[(l(),n(C,null,D(B,(a,d)=>t("option",{key:d,value:d+1},o(a),9,_e)),64))],544),[[R,u.bulan]]),b(t("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>u.tahun=a),onChange:H,class:"block w-full md:w-24 px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700 dark:text-white"},[(l(),n(C,null,D([2023,2024,2025,2026],a=>t("option",{key:a,value:a},o(a),9,Se)),64))],544),[[R,u.tahun]])])]),t("div",Pe,[b(t("button",{onClick:te,class:"flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition whitespace-nowrap"},e[18]||(e[18]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),$(" Excel ")]),512),[[f,w(y)=="admin"]]),t("div",Ce,[t("button",{onClick:e[3]||(e[3]=a=>E("sudah")),class:J(["px-3 py-1.5 text-xs font-medium rounded transition",g.value==="sudah"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"text-gray-500"])},"Lunas",2),t("button",{onClick:e[4]||(e[4]=a=>E("belum")),class:J(["px-3 py-1.5 text-xs font-medium rounded transition",g.value==="belum"?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300":"text-gray-500"])},"Belum",2)]),b(t("button",{onClick:e[5]||(e[5]=a=>L("add")),class:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition whitespace-nowrap"},e[19]||(e[19]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),$(" Input Manual ")]),512),[[f,w(y)==="admin"]])])]),g.value==="sudah"?(l(),n("div",je,[e[20]||(e[20]=t("span",{class:"text-sm font-medium text-gray-500"},"Total Pemasukan Bulan Ini:",-1)),t("span",Be,o(P(T.value)),1)])):m("",!0),t("p",Me,"Periode: "+o(B[u.bulan-1])+" "+o(u.tahun),1),g.value==="belum"?(l(),n("div",$e,[b(t("div",Ie,[b(t("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=a=>j.value=a),onChange:Q,class:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,544),[[K,j.value]]),e[21]||(e[21]=t("span",{class:"text-sm font-medium text-blue-700 dark:text-blue-300"},"Pilih Semua di Halaman Ini",-1))],512),[[f,w(y)==="admin"]]),c.value.length>0?(l(),n("button",{key:0,onClick:X,class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-bold shadow-sm transition-all whitespace-nowrap"}," Bayar "+o(c.value.length)+" Warga ",1)):m("",!0)])):m("",!0),t("div",De,[t("table",Ae,[t("thead",null,[t("tr",Te,[g.value==="belum"?b((l(),n("th",ze,null,512)),[[f,w(y)==="admin"]]):m("",!0),e[22]||(e[22]=t("th",{class:"p-4"},"Nama Warga",-1)),e[23]||(e[23]=t("th",{class:"p-4"},"Periode",-1)),g.value==="sudah"?(l(),n("th",Ue,"Wajib")):m("",!0),g.value==="sudah"?(l(),n("th",Le,"Sukarela")):m("",!0),g.value==="sudah"?(l(),n("th",Ve,"Penginput")):m("",!0),e[24]||(e[24]=t("th",{class:"p-4 text-right"},"Status",-1)),b(t("th",Ne,"Aksi",512),[[f,w(y)==="admin"]])])]),t("tbody",Re,[A.value?(l(),n("tr",We,[t("td",{colspan:g.value==="belum"?7:6,class:"p-6 text-center text-gray-500"},"Memuat data...",8,He)])):_.value.length===0?(l(),n("tr",Ee,[t("td",{colspan:g.value==="belum"?7:6,class:"p-6 text-center text-gray-500"},"Tidak ada data ditemukan.",8,Fe)])):(l(!0),n(C,{key:2},D(_.value,a=>(l(),n("tr",{key:a.id||a.user_id,class:"hover:bg-gray-50 dark:hover:bg-gray-800/30"},[g.value==="belum"?b((l(),n("td",Ge,[b(t("input",{type:"checkbox",value:a.id,"onUpdate:modelValue":e[7]||(e[7]=d=>c.value=d),class:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,8,Je),[[K,c.value]])],512)),[[f,w(y)==="admin"]]):m("",!0),t("td",Ke,[t("div",Oe,o(a.username),1),t("div",Ye,o(a.phone||"-"),1)]),t("td",qe,o(B[u.bulan-1])+" "+o(u.tahun),1),g.value==="sudah"?(l(),n(C,{key:1},[t("td",Qe,o(P(a.iuran_wajib)),1),t("td",Xe,o(P(a.iuran_bebas)),1),t("td",Ze,o(a.nama_penginput),1)],64)):m("",!0),t("td",et,[g.value==="sudah"?(l(),n("span",tt,"LUNAS")):(l(),n("span",at,"Belum bayar"))]),b(t("td",st,[g.value==="sudah"?(l(),n(C,{key:0},[t("button",{onClick:d=>L("edit",a),class:"text-blue-500 hover:bg-blue-50 p-1.5 rounded"},e[25]||(e[25]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,rt),t("button",{onClick:d=>ee(a.id),class:"text-red-500 hover:bg-red-50 p-1.5 rounded"},e[26]||(e[26]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,lt)],64)):(l(),n("div",ot,[t("button",{onClick:d=>L("pay",a),class:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700"},"Bayar",8,nt),t("button",{onClick:d=>ae(a),class:"px-3 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600 flex items-center gap-1"},e[27]||(e[27]=[t("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"})],-1),$(" WA ")]),8,dt)]))],512),[[f,w(y)==="admin"]])]))),128))])])]),t("div",it,[t("div",ut,"Halaman "+o(i.currentPage)+" dari "+o(i.totalPage)+" (Total "+o(i.totalData)+" Data)",1),t("div",gt,[t("button",{onClick:e[8]||(e[8]=a=>F(i.currentPage-1)),disabled:i.currentPage<=1,class:"px-3 py-1 text-sm border rounded hover:bg-gray-100 disabled:opacity-50 dark:text-white dark:hover:bg-blue-400"},"Prev",8,ct),t("button",{onClick:e[9]||(e[9]=a=>F(i.currentPage+1)),disabled:i.currentPage>=i.totalPage,class:"px-3 py-1 text-sm border rounded hover:bg-gray-100 disabled:opacity-50 dark:text-white dark:hover:bg-blue-400"},"Next",8,bt)])])])]),M.value?(l(),n("div",pt,[t("div",mt,[t("h3",ht,o(c.value.length>0&&!r.id?"Pembayaran Massal":r.id?"Edit Pembayaran":"Input Pembayaran"),1),t("form",{onSubmit:ne(Z,["prevent"]),class:"space-y-4"},[c.value.length===0&&!r.id?(l(),n("div",xt,[e[29]||(e[29]=t("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Pilih Warga",-1)),b(t("select",{"onUpdate:modelValue":e[10]||(e[10]=a=>r.user_id=a),class:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},[e[28]||(e[28]=t("option",{value:"",disabled:""},"-- Pilih Warga --",-1)),(l(!0),n(C,null,D(W.value,a=>(l(),n("option",{key:a.id,value:a.id},o(a.username),9,kt))),128))],512),[[R,r.user_id]])])):c.value.length>0&&!r.id?(l(),n("div",yt,[e[32]||(e[32]=t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("span",null,[e[30]||(e[30]=$("Membayar untuk ")),t("strong",null,o(c.value.length)+" warga",1),e[31]||(e[31]=$(" terpilih."))])])):m("",!0),t("div",vt,[t("div",null,[e[34]||(e[34]=t("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Iuran Wajib",-1)),t("div",ft,[e[33]||(e[33]=t("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500 dark:text-gray-400"},"Rp",-1)),t("input",{type:"text",value:V(r.iuran_wajib),onInput:e[11]||(e[11]=a=>G(a,r,"iuran_wajib")),class:"w-full pl-10 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,40,wt)])]),t("div",null,[e[36]||(e[36]=t("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Sukarela",-1)),t("div",_t,[e[35]||(e[35]=t("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500 dark:text-gray-400"},"Rp",-1)),t("input",{type:"text",value:V(r.iuran_bebas),onInput:e[12]||(e[12]=a=>G(a,r,"iuran_bebas")),class:"w-full pl-10 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,40,St)])])]),t("div",Pt,"Periode: "+o(B[u.bulan-1])+" "+o(u.tahun),1),t("div",Ct,[t("button",{type:"button",onClick:e[13]||(e[13]=a=>M.value=!1),class:"flex-1 py-2 border rounded-lg text-gray-600 hover:bg-gray-50 dark:text-white dark:hover:text-black"},"Batal"),e[37]||(e[37]=t("button",{type:"submit",class:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium"},"Simpan",-1))])],32)])])):m("",!0)])]),_:1}))}};export{At as default};
